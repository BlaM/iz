/*global module, exports, window*/(function(){"use strict";function iz_alphaNumeric(value){return/^[a-z0-9]+$/i.test(value)}function iz_number(val){return typeof val!="string"&&typeof val!="number"||!!isNaN(val%1)?!1:!0}function iz_between(val,start,end){return typeof val=="object"||typeof val=="function"||typeof start=="object"||typeof start=="function"||typeof end=="object"||typeof end=="function"?!1:val>=start&&val<=end?!0:!1}function iz_boolean(value){return typeof value=="boolean"||typeof value=="number"&&(value===0||value===1)?!0:!1}function iz_int(value,allowDecimal){return typeof allowDecimal!="boolean"&&(allowDecimal=!1),allowDecimal?iz_number(value)&&value%1===0?!0:!1:/^\s*(\+|-)?\d+\s*$/.test(value)}function luhnChk(luhn){var len=luhn.length,mul=0,prodArr=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],sum=0;while(len--)sum+=prodArr[mul][parseInt(luhn.charAt(len),10)],mul^=1;return sum%10===0&&sum>0}function iz_getObjectClass(obj){if(obj&&obj.constructor&&obj.constructor.toString){var arr=obj.constructor.toString().match(/function\s*(\w+)/);if(arr&&arr.length===2)return arr[1]}return undefined}function iz_cc(value){return typeof value!="string"&&typeof value!="number"?!1:(value=value.replace(/[ \-]/g,""),iz_int(value)?luhnChk(value):!1)}function iz_date(value){return iz_getObjectClass(value)==="Date"||(new Date(value)).toString()!=="Invalid Date"||!isNaN(new Date(value))}function iz_decimal(value){return iz_number(value)&&Math.floor(value)!=value}function iz_email(value){return typeof value=="string"&&/\S+@\S+/.test(value)}function iz_empty(value){var type=typeof value,key;if(value.hasOwnProperty("length")&&type!=="function"&&value.length>0)return!1;if(type==="function"||type==="object")for(key in value)if(value.hasOwnProperty(key))return!1;return!0}function iz_equal(value,value2){var valueType=typeof value,value2Type=typeof value2,key;if(valueType!=="object"&&valueType!=="function"||typeof value.equals!="function"){if(valueType==="object"||valueType==="function"){for(key in value)if(value.hasOwnProperty(key)&&!value2.hasOwnProperty(key)&&key!=="equals"){if(typeof value[key]=="object"||typeof value[key]=="function"&&!iz_equal(value[key],value2[key]))return!1;if(value[key]!==value2[key])return!1}return!0}}else if(value2Type==="object"||value2Type==="function")return value.equals(value2);return value===value2}function iz_extension(obj1,obj2){var key;if(typeof obj1!="object"||typeof obj2!="object")return!1;for(key in obj2)if(obj2.hasOwnProperty(key)&&typeof obj1[key]=="undefined")return!1;return!0}function iz_fileExtension(value,validExtensions){var ext;return typeof validExtensions!="object"||typeof validExtensions.indexOf=="undefined"||typeof value!="string"?!1:(ext=value.split(".").pop().toLowerCase(),validExtensions.indexOf(ext)!==-1?!0:!1)}function iz_fileExtensionAudio(value){var validExtensions=["mp3","ogg","aac","wav"];return iz_fileExtension(value,validExtensions)}function iz_fileExtensionImage(value){var validExtensions=["gif","png","jpeg","jpg","svg","bmp"];return iz_fileExtension(value,validExtensions)}function iz_fileExtensionVideo(value){var validExtensions=["mp4","ogv","m4v","mov","avi"];return iz_fileExtension(value,validExtensions)}function iz_inArray(value,arr){return typeof arr!="object"||typeof arr.indexOf=="undefined"?!1:arr.indexOf(value)!==-1?!0:!1}function iz_ip(str){var re=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^(?:(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){6})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:::(?:(?:(?:[0-9a-fA-F]{1,4})):){5})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})))?::(?:(?:(?:[0-9a-fA-F]{1,4})):){4})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,1}(?:(?:[0-9a-fA-F]{1,4})))?::(?:(?:(?:[0-9a-fA-F]{1,4})):){3})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,2}(?:(?:[0-9a-fA-F]{1,4})))?::(?:(?:(?:[0-9a-fA-F]{1,4})):){2})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,3}(?:(?:[0-9a-fA-F]{1,4})))?::(?:(?:[0-9a-fA-F]{1,4})):)(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,4}(?:(?:[0-9a-fA-F]{1,4})))?::)(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,5}(?:(?:[0-9a-fA-F]{1,4})))?::)(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,6}(?:(?:[0-9a-fA-F]{1,4})))?::))))$/;return re.test(str)}function iz_minLength(val,len){return(typeof val=="string"||typeof val=="object")&&typeof val.length!="undefined"&&iz_int(len)&&val.length>=len?!0:!1}function iz_maxLength(val,len){return(typeof val=="string"||typeof val=="object")&&typeof val.length!="undefined"&&iz_int(len)&&val.length<=len?!0:!1}function iz_multiple(num,multiple){return typeof num!="number"||typeof multiple!="number"?!1:num%multiple===0?!0:!1}function iz_ofType(obj,type){return typeof obj=="object"&&typeof obj.length=="undefined"&&typeof type=="string"&&iz_getObjectClass(obj)===type?!0:!1}function iz_phone(str){var cleanedStr="",numbers=[];if(typeof str=="string"){cleanedStr=str.replace(/[^x0-9]/g,""),numbers=cleanedStr.split("x");if(numbers.length>0&&iz_int(numbers[0])&&(numbers[0].length===10||numbers[0].length===11)&&iz_int(numbers.pop()))return!0}return!1}function iz_postal(str){var cleanedStr="";if(typeof str=="string"){cleanedStr=str.replace(/[^0-9]/g,"");if(iz_int(cleanedStr)&&(cleanedStr.length===5||cleanedStr.length===9))return!0}return!1}function iz_ssn(str){var cleanedStr="";if(typeof str=="string"){cleanedStr=str.replace(/[^0-9]/g,"");if(iz_int(cleanedStr)&&cleanedStr.length===9)return!0}return!1}function Iz(value,error_messages){function not(){return self._not=!0,self}function revalidate(){var args=[],i=0;self.errors=[],self.valid=!0;for(var key in self._calledValidations){var rule=self._calledValidations[key];self._calledValidations.hasOwnProperty(key)&&(rule.not&&self.not(),validator_partial(rule.validation).apply(self,rule.args))}return self}function setValue(value){return self.value=value,self.revalidate(),self}function validator_partial(fn){var fnName=Array.prototype.slice.call(arguments)[0],args=Array.prototype.slice.call(arguments,1);return args.unshift(value),function(){var argArray=Array.prototype.slice.call(arguments),allArguments=[self.value].concat(argArray),result=validators[fn].apply(null,allArguments),key=(self._not?"not_":"")+fnName;self._calledValidations[key]={not:self._not,validation:fn,args:argArray};if(!this._not&&!result||this._not&&result)!this._not&&typeof this.error_messages[fn]!="undefined"?this.errors.push(this.error_messages[fn]):this._not&&typeof this.error_messages["not_"+fn]!="undefined"?this.errors.push(this.error_messages["not_"+fn]):this._not?this.errors.push("Not "+fn):this.errors.push(fn),this.valid=!1;return this._not=!1,this}}var self=this;typeof error_messages=="object"?this.error_messages=error_messages:this.error_messages={},this._not=!1,this._calledValidations={},this.not=not,this.value=value,this.setValue=setValue,this.revalidate=revalidate,this.errors=[],this.valid=!0;for(var fn in validators)validators.hasOwnProperty(fn)&&(this[fn]=validator_partial(fn))}var validators={},iz;validators.alphaNumeric=iz_alphaNumeric,validators.between=iz_between,validators.boolean=iz_boolean,validators.cc=iz_cc,validators.date=iz_date,validators.decimal=iz_decimal,validators.email=iz_email,validators.empty=iz_empty,validators.equal=iz_equal,validators.extension=iz_extension,validators.fileExtension=iz_fileExtension,validators.fileExtensionAudio=iz_fileExtensionAudio,validators.fileExtensionImage=iz_fileExtensionImage,validators.fileExtensionVideo=iz_fileExtensionVideo,validators.inArray=iz_inArray,validators.int=iz_int,validators.ip=iz_ip,validators.minLength=iz_minLength,validators.maxLength=iz_maxLength,validators.multiple=iz_multiple,validators.number=iz_number,validators.ofType=iz_ofType,validators.phone=iz_phone,validators.postal=iz_postal,validators.ssn=iz_ssn,iz=function(value,error_messages){return new Iz(value,error_messages)};for(var fn in validators)validators.hasOwnProperty(fn)&&(iz[fn]=validators[fn]);typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=iz),exports.iz=iz):window.iz=iz})(),function(){"use strict";function Are(rules){var self=this;self._rules=rules,this.valid=function(){for(var key in self._rules){self._rules[key].revalidate();if(!self._rules[key].valid)return!1}return!0}}var are;are=function(rules){return new Are(rules)},typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=are),exports.are=are):window.are=are}();